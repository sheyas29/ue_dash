{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{API_URL}from'../config';// Assuming you have a config.js file with API_URL exported\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const GenerateSalary=_ref=>{let{contractId,month,year}=_ref;const[message,setMessage]=useState('');const handleGenerateSalaries=async()=>{try{console.log(\"Generating salaries for contractId: \".concat(contractId,\", month: \").concat(month,\", year: \").concat(year));const response=await axios.post(\"\".concat(API_URL,\"/\").concat(contractId,\"/salaries/generate\"),{month,year});if(response.data.length>0){console.log('Salaries generated:',response.data);setMessage('Salaries generated successfully.');}else{setMessage('No salaries were generated.');}}catch(error){var _error$response,_error$response$data;console.error('Error generating salaries:',error);setMessage(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||'Error generating salaries. Please try again.');}};const handleDeleteSalaries=async()=>{try{console.log(\"Deleting salaries for contractId: \".concat(contractId,\", month: \").concat(month,\", year: \").concat(year));await axios.delete(\"\".concat(API_URL,\"/\").concat(contractId,\"/salaries/delete\"),{data:{month,year}});console.log('Salaries deleted successfully.');setMessage('Salaries deleted successfully.');}catch(error){console.error('Error deleting salaries:',error);setMessage('Error deleting salaries. Please try again.');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-white rounded-lg shadow-md\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleGenerateSalaries,className:\"bg-jet text-white font-semibold py-2 px-4 rounded hover:bg-neutral-500 focus:outline-none focus:ring-2 focus:ring-blue-300\",children:\"Generate Salaries\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDeleteSalaries,className:\"bg-red-500 text-white font-semibold py-2 px-4 rounded hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-300\",children:\"Delete Salaries\"})]}),message&&/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-gray-700\",children:message})]});};export default GenerateSalary;","map":{"version":3,"names":["React","useState","axios","API_URL","jsx","_jsx","jsxs","_jsxs","GenerateSalary","_ref","contractId","month","year","message","setMessage","handleGenerateSalaries","console","log","concat","response","post","data","length","error","_error$response","_error$response$data","handleDeleteSalaries","delete","className","children","onClick"],"sources":["C:/Users/kshre/OneDrive/Desktop/my-manpower-dashboard/frontend/src/components/GenerateSalary.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { API_URL } from '../config';  // Assuming you have a config.js file with API_URL exported\r\n\r\nconst GenerateSalary = ({ contractId, month, year }) => {\r\n  const [message, setMessage] = useState('');\r\n\r\n  const handleGenerateSalaries = async () => {\r\n    try {\r\n      console.log(`Generating salaries for contractId: ${contractId}, month: ${month}, year: ${year}`);\r\n      const response = await axios.post(`${API_URL}/${contractId}/salaries/generate`, { month, year });\r\n      if (response.data.length > 0) {\r\n        console.log('Salaries generated:', response.data);\r\n        setMessage('Salaries generated successfully.');\r\n      } else {\r\n        setMessage('No salaries were generated.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error generating salaries:', error);\r\n      setMessage(error.response?.data?.error || 'Error generating salaries. Please try again.');\r\n    }\r\n  };\r\n\r\n  const handleDeleteSalaries = async () => {\r\n    try {\r\n      console.log(`Deleting salaries for contractId: ${contractId}, month: ${month}, year: ${year}`);\r\n      await axios.delete(`${API_URL}/${contractId}/salaries/delete`, { data: { month, year } });\r\n      console.log('Salaries deleted successfully.');\r\n      setMessage('Salaries deleted successfully.');\r\n    } catch (error) {\r\n      console.error('Error deleting salaries:', error);\r\n      setMessage('Error deleting salaries. Please try again.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-4 bg-white rounded-lg shadow-md\">\r\n      <div className=\"flex justify-between items-center mb-4\">\r\n        <button\r\n          onClick={handleGenerateSalaries}\r\n          className=\"bg-jet text-white font-semibold py-2 px-4 rounded hover:bg-neutral-500 focus:outline-none focus:ring-2 focus:ring-blue-300\"\r\n        >\r\n          Generate Salaries\r\n        </button>\r\n        <button\r\n          onClick={handleDeleteSalaries}\r\n          className=\"bg-red-500 text-white font-semibold py-2 px-4 rounded hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-300\"\r\n        >\r\n          Delete Salaries\r\n        </button>\r\n      </div>\r\n      {message && <p className=\"text-center text-gray-700\">{message}</p>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GenerateSalary;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,OAAO,KAAQ,WAAW,CAAG;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEtC,KAAM,CAAAC,cAAc,CAAGC,IAAA,EAAiC,IAAhC,CAAEC,UAAU,CAAEC,KAAK,CAAEC,IAAK,CAAC,CAAAH,IAAA,CACjD,KAAM,CAACI,OAAO,CAAEC,UAAU,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAE1C,KAAM,CAAAc,sBAAsB,CAAG,KAAAA,CAAA,GAAY,CACzC,GAAI,CACFC,OAAO,CAACC,GAAG,wCAAAC,MAAA,CAAwCR,UAAU,cAAAQ,MAAA,CAAYP,KAAK,aAAAO,MAAA,CAAWN,IAAI,CAAE,CAAC,CAChG,KAAM,CAAAO,QAAQ,CAAG,KAAM,CAAAjB,KAAK,CAACkB,IAAI,IAAAF,MAAA,CAAIf,OAAO,MAAAe,MAAA,CAAIR,UAAU,uBAAsB,CAAEC,KAAK,CAAEC,IAAK,CAAC,CAAC,CAChG,GAAIO,QAAQ,CAACE,IAAI,CAACC,MAAM,CAAG,CAAC,CAAE,CAC5BN,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAEE,QAAQ,CAACE,IAAI,CAAC,CACjDP,UAAU,CAAC,kCAAkC,CAAC,CAChD,CAAC,IAAM,CACLA,UAAU,CAAC,6BAA6B,CAAC,CAC3C,CACF,CAAE,MAAOS,KAAK,CAAE,KAAAC,eAAA,CAAAC,oBAAA,CACdT,OAAO,CAACO,KAAK,CAAC,4BAA4B,CAAEA,KAAK,CAAC,CAClDT,UAAU,CAAC,EAAAU,eAAA,CAAAD,KAAK,CAACJ,QAAQ,UAAAK,eAAA,kBAAAC,oBAAA,CAAdD,eAAA,CAAgBH,IAAI,UAAAI,oBAAA,iBAApBA,oBAAA,CAAsBF,KAAK,GAAI,8CAA8C,CAAC,CAC3F,CACF,CAAC,CAED,KAAM,CAAAG,oBAAoB,CAAG,KAAAA,CAAA,GAAY,CACvC,GAAI,CACFV,OAAO,CAACC,GAAG,sCAAAC,MAAA,CAAsCR,UAAU,cAAAQ,MAAA,CAAYP,KAAK,aAAAO,MAAA,CAAWN,IAAI,CAAE,CAAC,CAC9F,KAAM,CAAAV,KAAK,CAACyB,MAAM,IAAAT,MAAA,CAAIf,OAAO,MAAAe,MAAA,CAAIR,UAAU,qBAAoB,CAAEW,IAAI,CAAE,CAAEV,KAAK,CAAEC,IAAK,CAAE,CAAC,CAAC,CACzFI,OAAO,CAACC,GAAG,CAAC,gCAAgC,CAAC,CAC7CH,UAAU,CAAC,gCAAgC,CAAC,CAC9C,CAAE,MAAOS,KAAK,CAAE,CACdP,OAAO,CAACO,KAAK,CAAC,0BAA0B,CAAEA,KAAK,CAAC,CAChDT,UAAU,CAAC,4CAA4C,CAAC,CAC1D,CACF,CAAC,CAED,mBACEP,KAAA,QAAKqB,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDtB,KAAA,QAAKqB,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrDxB,IAAA,WACEyB,OAAO,CAAEf,sBAAuB,CAChCa,SAAS,CAAC,4HAA4H,CAAAC,QAAA,CACvI,mBAED,CAAQ,CAAC,cACTxB,IAAA,WACEyB,OAAO,CAAEJ,oBAAqB,CAC9BE,SAAS,CAAC,2HAA2H,CAAAC,QAAA,CACtI,iBAED,CAAQ,CAAC,EACN,CAAC,CACLhB,OAAO,eAAIR,IAAA,MAAGuB,SAAS,CAAC,2BAA2B,CAAAC,QAAA,CAAEhB,OAAO,CAAI,CAAC,EAC/D,CAAC,CAEV,CAAC,CAED,cAAe,CAAAL,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}