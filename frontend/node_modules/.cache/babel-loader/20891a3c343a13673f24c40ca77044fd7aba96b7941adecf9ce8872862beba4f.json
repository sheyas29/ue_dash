{"ast":null,"code":"import React,{useState,useEffect}from'react';import Header from'../components/Header';import CompanyDetails from'../components/CompanyDetails';import ContractList from'../components/ContractList';import Sidebar from'../components/Sidebar';import FileUpload from'../components/FileUpload';import ContractsCountTracker from'../components/ContractsCountTracker';import TotalEmployeesDisplay from'../components/TotalEmployeesDisplay';import{getContracts,deleteContract}from'../apis/contractApi';import{ChevronLeft,ChevronRight,Upload,BarChart2,Users}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const HomePage=()=>{const[contracts,setContracts]=useState([]);const[isSidebarOpen,setIsSidebarOpen]=useState(true);useEffect(()=>{const fetchContracts=async()=>{try{const data=await getContracts();setContracts(data);}catch(error){console.error('Error fetching contracts:',error);}};fetchContracts();},[]);const handleSidebarToggle=()=>{setIsSidebarOpen(!isSidebarOpen);};const handleUpload=newContract=>{setContracts([...contracts,newContract]);};const handleDelete=async id=>{if(window.confirm('Are you sure you want to delete this contract?')){try{await deleteContract(id);setContracts(contracts.filter(contract=>contract._id!==id));}catch(error){console.error('Error deleting contract:',error);}}};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex transition-all duration-300 ease-in-out shadow-[10px_0px_10px_rgba(0,0,0,0)] \".concat(isSidebarOpen?'sidebar-open':'sidebar-closed'),children:[/*#__PURE__*/_jsx(Sidebar,{contracts:contracts,isOpen:isSidebarOpen,onToggle:handleSidebarToggle,className:\"transition-all duration-300 ease-in-out \".concat(isSidebarOpen?'w-[270px]':'w-[70px]')}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-grow transition-[margin-left] duration-300 ease-in-out p-5 \".concat(isSidebarOpen?'ml-[270px]':'ml-[70px]'),children:[/*#__PURE__*/_jsx(Header,{className:\"bg-white shadow-md mb-6 rounded-lg\"}),/*#__PURE__*/_jsx(CompanyDetails,{className:\"bg-white rounded-lg shadow-md p-4 mb-6\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-end mb-6\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleSidebarToggle,className:\"p-2 rounded-full bg-white shadow-md hover:bg-gray-100 transition-colors duration-200\",children:isSidebarOpen?/*#__PURE__*/_jsx(ChevronLeft,{className:\"w-6 h-6 text-gray-600\"}):/*#__PURE__*/_jsx(ChevronRight,{className:\"w-6 h-6 text-gray-600\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 flex flex-col items-center justify-center\",children:[/*#__PURE__*/_jsx(Upload,{className:\"w-12 h-12 text-blue-500 mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-2\",children:\"Upload Contract PDF\"}),/*#__PURE__*/_jsx(FileUpload,{onUpload:handleUpload,className:\"w-full\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center mb-6\",children:[/*#__PURE__*/_jsx(BarChart2,{className:\"w-11 h-11 text-blue-500 mb-2\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-800 text-center\",children:\"Contracts Count Tracker\"})]}),/*#__PURE__*/_jsx(ContractsCountTracker,{contracts:contracts,className:\"w-full\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 flex flex-col items-center justify-center\",children:[/*#__PURE__*/_jsx(Users,{className:\"w-12 h-12 text-blue-500 mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-2\",children:\"Total Employees\"}),/*#__PURE__*/_jsx(TotalEmployeesDisplay,{className:\"text-3xl font-bold text-gray-700\"})]})]}),/*#__PURE__*/_jsx(ContractList,{contracts:contracts,onDelete:handleDelete,className:\"bg-white rounded-lg shadow-md\"})]})]});};export default HomePage;","map":{"version":3,"names":["React","useState","useEffect","Header","CompanyDetails","ContractList","Sidebar","FileUpload","ContractsCountTracker","TotalEmployeesDisplay","getContracts","deleteContract","ChevronLeft","ChevronRight","Upload","BarChart2","Users","jsx","_jsx","jsxs","_jsxs","HomePage","contracts","setContracts","isSidebarOpen","setIsSidebarOpen","fetchContracts","data","error","console","handleSidebarToggle","handleUpload","newContract","handleDelete","id","window","confirm","filter","contract","_id","className","concat","children","isOpen","onToggle","onClick","onUpload","onDelete"],"sources":["C:/Users/kshre/OneDrive/Desktop/my-manpower-dashboard/frontend/src/pages/HomePage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Header from '../components/Header';\r\nimport CompanyDetails from '../components/CompanyDetails';\r\nimport ContractList from '../components/ContractList';\r\nimport Sidebar from '../components/Sidebar';\r\nimport FileUpload from '../components/FileUpload';\r\nimport ContractsCountTracker from '../components/ContractsCountTracker';\r\nimport TotalEmployeesDisplay from '../components/TotalEmployeesDisplay';\r\nimport { getContracts, deleteContract } from '../apis/contractApi';\r\nimport { ChevronLeft, ChevronRight, Upload, BarChart2, Users } from 'lucide-react';\r\n\r\nconst HomePage = () => {\r\n  const [contracts, setContracts] = useState([]);\r\n  const [isSidebarOpen, setIsSidebarOpen] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchContracts = async () => {\r\n      try {\r\n        const data = await getContracts();\r\n        setContracts(data);\r\n      } catch (error) {\r\n        console.error('Error fetching contracts:', error);\r\n      }\r\n    };\r\n\r\n    fetchContracts();\r\n  }, []);\r\n\r\n  const handleSidebarToggle = () => {\r\n    setIsSidebarOpen(!isSidebarOpen);\r\n  };\r\n\r\n  const handleUpload = (newContract) => {\r\n    setContracts([...contracts, newContract]);\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    if (window.confirm('Are you sure you want to delete this contract?')) {\r\n      try {\r\n        await deleteContract(id);\r\n        setContracts(contracts.filter(contract => contract._id !== id));\r\n      } catch (error) {\r\n        console.error('Error deleting contract:', error);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`flex transition-all duration-300 ease-in-out shadow-[10px_0px_10px_rgba(0,0,0,0)] ${isSidebarOpen ? 'sidebar-open' : 'sidebar-closed'\r\n      }`}>\r\n      <Sidebar\r\n        contracts={contracts}\r\n        isOpen={isSidebarOpen}\r\n        onToggle={handleSidebarToggle}\r\n        className={`transition-all duration-300 ease-in-out ${isSidebarOpen ? 'w-[270px]' : 'w-[70px]'\r\n          }`}\r\n      />\r\n      <div className={`flex-grow transition-[margin-left] duration-300 ease-in-out p-5 ${isSidebarOpen ? 'ml-[270px]' : 'ml-[70px]'\r\n        }`}>\r\n        <Header className=\"bg-white shadow-md mb-6 rounded-lg\" />\r\n        <CompanyDetails className=\"bg-white rounded-lg shadow-md p-4 mb-6\" />\r\n        <div className=\"flex items-center justify-end mb-6\">\r\n          <button\r\n            onClick={handleSidebarToggle}\r\n            className=\"p-2 rounded-full bg-white shadow-md hover:bg-gray-100 transition-colors duration-200\"\r\n          >\r\n            {isSidebarOpen ? (\r\n              <ChevronLeft className=\"w-6 h-6 text-gray-600\" />\r\n            ) : (\r\n              <ChevronRight className=\"w-6 h-6 text-gray-600\" />\r\n            )}\r\n          </button>\r\n        </div>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6\">\r\n          <div className=\"bg-white rounded-lg shadow-md p-6 flex flex-col items-center justify-center\">\r\n            <Upload className=\"w-12 h-12 text-blue-500 mb-4\" />\r\n            <h3 className=\"text-lg font-semibold mb-2\">Upload Contract PDF</h3>\r\n            <FileUpload\r\n              onUpload={handleUpload}\r\n              className=\"w-full\"\r\n            />\r\n          </div>\r\n          <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n            <div className=\"flex flex-col items-center mb-6\">\r\n              <BarChart2 className=\"w-11 h-11 text-blue-500 mb-2\" />\r\n              <h2 className=\"text-xl font-semibold text-gray-800 text-center\">Contracts Count Tracker</h2>\r\n            </div>\r\n            <ContractsCountTracker\r\n              contracts={contracts}\r\n              className=\"w-full\"\r\n            />\r\n          </div>\r\n          <div className=\"bg-white rounded-lg shadow-md p-6 flex flex-col items-center justify-center\">\r\n            <Users className=\"w-12 h-12 text-blue-500 mb-4\" />\r\n            <h3 className=\"text-lg font-semibold mb-2\">Total Employees</h3>\r\n            <TotalEmployeesDisplay\r\n              className=\"text-3xl font-bold text-gray-700\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <ContractList\r\n          contracts={contracts}\r\n          onDelete={handleDelete}\r\n          className=\"bg-white rounded-lg shadow-md\"\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HomePage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}