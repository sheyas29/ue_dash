{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{Upload,FileText}from'lucide-react';import{UPLOAD_API_URL}from'../config';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FileUpload=_ref=>{let{onUpload}=_ref;const[file,setFile]=useState(null);const[uploading,setUploading]=useState(false);const handleFileChange=e=>{setFile(e.target.files[0]);};const handleUpload=async()=>{if(!file)return;setUploading(true);const formData=new FormData();formData.append('file',file);try{const response=await axios.post(UPLOAD_API_URL,formData,{headers:{'Content-Type':'multipart/form-data'}});onUpload(response.data);setFile(null);}catch(error){console.error('Error uploading file:',error);}finally{setUploading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"w-full max-w-md mx-auto bg-white rounded-lg shadow-md overflow-hidden\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center mb-4\",children:[/*#__PURE__*/_jsx(Upload,{className:\"w-8 h-8 text-blue-500 mr-2\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-800\",children:\"Upload Contract PDF\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"block mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Choose file\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:handleFileChange,className:\"block w-full text-sm text-gray-500\\r file:mr-4 file:py-2 file:px-4\\r file:rounded-full file:border-0\\r file:text-sm file:font-semibold\\r file:bg-blue-50 file:text-blue-700\\r hover:file:bg-blue-100\\r \"})]})}),file&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 flex items-center text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(FileText,{className:\"w-4 h-4 mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"truncate\",children:file.name})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleUpload,disabled:!file||uploading,className:\"w-full px-4 py-2 text-white font-semibold rounded-lg \".concat(!file||uploading?'bg-gray-300 cursor-not-allowed':'bg-blue-500 hover:bg-blue-600',\" transition duration-300 ease-in-out\"),children:uploading?'Uploading...':'Upload'})})]})});};export default FileUpload;","map":{"version":3,"names":["React","useState","axios","Upload","FileText","UPLOAD_API_URL","jsx","_jsx","jsxs","_jsxs","FileUpload","_ref","onUpload","file","setFile","uploading","setUploading","handleFileChange","e","target","files","handleUpload","formData","FormData","append","response","post","headers","data","error","console","className","children","type","onChange","name","onClick","disabled","concat"],"sources":["C:/Users/kshre/OneDrive/Desktop/my-manpower-dashboard/frontend/src/components/FileUpload.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { Upload, FileText } from 'lucide-react';\r\nimport { UPLOAD_API_URL } from '../config';\r\n\r\nconst FileUpload = ({ onUpload }) => {\r\n  const [file, setFile] = useState(null);\r\n  const [uploading, setUploading] = useState(false);\r\n\r\n  const handleFileChange = (e) => {\r\n    setFile(e.target.files[0]);\r\n  };\r\n\r\n  const handleUpload = async () => {\r\n    if (!file) return;\r\n\r\n    setUploading(true);\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n\r\n    try {\r\n      const response = await axios.post(UPLOAD_API_URL, formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n      });\r\n      onUpload(response.data);\r\n      setFile(null);\r\n    } catch (error) {\r\n      console.error('Error uploading file:', error);\r\n    } finally {\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"w-full max-w-md mx-auto bg-white rounded-lg shadow-md overflow-hidden\">\r\n      <div className=\"px-6 py-4\">\r\n        <div className=\"flex items-center justify-center mb-4\">\r\n          <Upload className=\"w-8 h-8 text-blue-500 mr-2\" />\r\n          <h2 className=\"text-xl font-semibold text-gray-800\">Upload Contract PDF</h2>\r\n        </div>\r\n        <div className=\"mt-4\">\r\n          <label className=\"block mb-2\">\r\n            <span className=\"sr-only\">Choose file</span>\r\n            <input\r\n              type=\"file\"\r\n              onChange={handleFileChange}\r\n              className=\"block w-full text-sm text-gray-500\r\n                file:mr-4 file:py-2 file:px-4\r\n                file:rounded-full file:border-0\r\n                file:text-sm file:font-semibold\r\n                file:bg-blue-50 file:text-blue-700\r\n                hover:file:bg-blue-100\r\n              \"\r\n            />\r\n          </label>\r\n        </div>\r\n        {file && (\r\n          <div className=\"mt-2 flex items-center text-sm text-gray-600\">\r\n            <FileText className=\"w-4 h-4 mr-2\" />\r\n            <span className=\"truncate\">{file.name}</span>\r\n          </div>\r\n        )}\r\n        <div className=\"mt-4\">\r\n          <button\r\n            onClick={handleUpload}\r\n            disabled={!file || uploading}\r\n            className={`w-full px-4 py-2 text-white font-semibold rounded-lg ${!file || uploading\r\n                ? 'bg-gray-300 cursor-not-allowed'\r\n                : 'bg-blue-500 hover:bg-blue-600'\r\n              } transition duration-300 ease-in-out`}\r\n          >\r\n            {uploading ? 'Uploading...' : 'Upload'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FileUpload;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}